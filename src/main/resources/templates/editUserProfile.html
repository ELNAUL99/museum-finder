<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<html lang="en">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  <title>User Profile Page</title>
  <link rel="stylesheet" th:href="@{/css/userProfile.css}">
  <link rel="stylesheet" th:href="@{/css/style.css}">
  <link rel="stylesheet" th:href="@{/css/topNavigationBar.css}">
  <link rel="icon" type="image/png" href="/images/museum.png">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
</head>
<body>
  <div th:insert="topNavigationBar :: navigationBar"></div>

  <div class="container">
    <div class="profile-card">
      <img class="profile-img" width="150px" th:src="@{images/profile.jpg}" alt="profile picture">
      <h4 th:text="${user.firstName} + ' ' + ${user.lastName}"></h4>
      <p style="color:#999999;" th:text="${user.email}"></p>
      <div class="tags-container" th:each="tag: ${user.tags}">
        <button th:text="${tag}"></button>
      </div>
    </div>

    <div class="profile-details">
      <h1 style="padding-bottom:40px; padding-top: 10%">Profile</h1>
      <div>
        <form action="#" method="post" th:action="@{/api/user/users/info/{id}(id=${user.id})}" th:object="${user}">
          <div class="title-info" style="display: inline-block; padding-right:10%">First name
            <input type="text" id="divFirstName" style="color:black; font-size: medium; display:flex;" th:field="*{firstName}"></input>
          </div>
          <div class="title-info" style="display: inline-block">Last name
            <input style="color:black; font-size: medium; display:flex;" th:field="*{lastName}"></input>
          </div>
      </div>
      <div class="title-info">Email
        <div class="info" th:text="${user.email}"></div>
      </div>
      <div class="title-info">Date of Birth
        <div class="info" id="dateOfBirth" th:text="${user.dateOfBirth}"></div>
      </div>
      <div class="title-info">Zip code
        <div class="info" th:text="${user.zipCode}"></div>
      </div>
      <div class="tags-container">
        <div th:each="tag, itemStat: ${tags}">
          <input type="checkbox"
                 th:text="${tag.name}"
                 th:value="${tag.name}"
                 th:name="|tags[${itemStat.index}]|"
                 class="tag-button"
                 th:id="${tag.name}"
                 th:field="*{user.tags[__${itemStat.index}__]}"
          ></input>
        </div>
      </div>
      <button id="edit-btn" type="submit" onclick=onclick="window.location='user-profile'">SAVE</button>
      </form>
    </div>
  </div>
  <script>
        let date = document.getElementById("dateOfBirth").innerText;
        document.getElementById("dateOfBirth").innerHTML = date.split(' ')[0];
  </script>
</body>
</html>
</html>
